{
  "critical_requirements": [
    {
      "name": "severity_accuracy",
      "description": "Severity classification must match ground truth as it drives prioritization and SLA commitments. Critical/high misclassification can lead to financial/legal exposure or customer churn.",
      "derived_from": "Ground truth shows clear severity patterns: financial/legal issues=critical (BUG-002, BUG-006), unusable features=high (BUG-001, BUG-004), degraded performance=medium (BUG-003), cosmetic=low (BUG-005)",
      "penalty_per_violation": 10
    },
    {
      "name": "component_accuracy",
      "description": "Component must be correctly identified to route to appropriate team. Incorrect routing causes delays and team thrash.",
      "derived_from": "Ground truth maps symptoms to components: mobile crashes\u2192mobile, payment issues\u2192payments, dashboard performance\u2192backend, password reset\u2192auth, button styling\u2192ui, data deletion\u2192database",
      "penalty_per_violation": 10
    },
    {
      "name": "type_distinction",
      "description": "Must correctly distinguish bugs from feature requests, questions, and documentation issues. Bug vs feature request is most critical as it affects backlog prioritization.",
      "derived_from": "Ground truth shows BUG-008 classified as feature_request despite being reported as bug, indicating importance of this distinction",
      "penalty_per_violation": 10
    },
    {
      "name": "valid_json_output",
      "description": "Output must be valid, parseable JSON matching the specified schema for automated system ingestion.",
      "derived_from": "Use case explicitly states 'Output should be structured JSON suitable for automated ticketing system ingestion'",
      "penalty_per_violation": 5
    },
    {
      "name": "duplicate_detection_recall",
      "description": "Must identify known duplicates to prevent duplicate work and maintain issue tracking integrity.",
      "derived_from": "Ground truth shows specific duplicate relationships: BUG-002\u2194BUG-014, BUG-003\u2194BUG-019,BUG-024, indicating duplicate detection is expected capability",
      "penalty_per_violation": 4
    }
  ],
  "compliance_checks": [
    {
      "check": "severity_enum_values",
      "condition": "severity field contains value other than: critical, high, medium, low",
      "severity": "CRITICAL",
      "penalty": 5
    },
    {
      "check": "component_enum_values",
      "condition": "component field contains value other than: ui, backend, database, auth, payments, api, mobile, infrastructure",
      "severity": "CRITICAL",
      "penalty": 5
    },
    {
      "check": "type_enum_values",
      "condition": "type field contains value other than: bug, feature_request, question, documentation",
      "severity": "CRITICAL",
      "penalty": 5
    },
    {
      "check": "root_cause_enum_values",
      "condition": "root_cause_category contains value other than: code_defect, configuration, data_issue, third_party, user_error, unknown",
      "severity": "HIGH",
      "penalty": 3
    },
    {
      "check": "reproducibility_enum_values",
      "condition": "reproducibility contains value other than: always, sometimes, rare, cannot_reproduce, unknown",
      "severity": "HIGH",
      "penalty": 3
    },
    {
      "check": "required_fields_present",
      "condition": "Any of these fields missing: bug_id, classification.severity, classification.component, classification.type, classification.root_cause_category, classification.reproducibility, potential_duplicates, missing_information, suggested_assignee_team",
      "severity": "CRITICAL",
      "penalty": 3
    },
    {
      "check": "severity_rationale_present",
      "condition": "severity_rationale field is missing or empty",
      "severity": "HIGH",
      "penalty": 4
    },
    {
      "check": "duplicate_rationale_present",
      "condition": "potential_duplicates array has entries but any entry lacks rationale field",
      "severity": "MEDIUM",
      "penalty": 2
    },
    {
      "check": "severity_critical_justification",
      "condition": "severity is 'critical' but rationale does not mention financial, legal, data loss, security, or complete outage",
      "severity": "HIGH",
      "penalty": 5
    },
    {
      "check": "severity_low_for_feature_request",
      "condition": "type is 'feature_request' but severity is 'critical' or 'high'",
      "severity": "MEDIUM",
      "penalty": 3
    },
    {
      "check": "team_component_alignment",
      "condition": "suggested_assignee_team does not logically correspond to the component (e.g., 'Backend Team' for component 'mobile')",
      "severity": "HIGH",
      "penalty": 8
    },
    {
      "check": "false_positive_duplicates",
      "condition": "potential_duplicates includes bug_ids that are not duplicates according to ground truth",
      "severity": "MEDIUM",
      "penalty": 3
    },
    {
      "check": "missed_known_duplicates",
      "condition": "ground truth shows duplicates but LLM output potential_duplicates array is empty or missing those bug_ids",
      "severity": "HIGH",
      "penalty": 4
    }
  ],
  "weights": {
    "accuracy": 40,
    "format": 20,
    "compliance": 40
  },
  "scoring_instructions": "Start with 100 points. For each bug report classification: (1) Verify JSON is valid and parseable (-5 if not). (2) Check all required fields are present (-3 per missing field). (3) Verify enum values are valid (-2 to -5 per invalid value based on severity). (4) Compare severity, component, type, root_cause_category, reproducibility against ground truth - apply penalties for mismatches based on business impact (severity/component/type mismatches: -10, root_cause: -5, reproducibility: -5). (5) Evaluate duplicate detection: -4 per missed duplicate, -3 per false positive. (6) Assess rationale quality: -4 for missing/vague severity rationale, -8 if contradictory. (7) Verify team assignment aligns with component (-10 if wrong). (8) Check for special compliance violations (critical severity without proper justification, feature requests marked high severity, etc.). Calculate final score as: 100 - sum(all_penalties), minimum 0. Weight distribution: Critical field accuracy (severity, component, type) = 40%, Format compliance = 20%, Duplicate detection + reasoning = 40%."
}