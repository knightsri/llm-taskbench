name: "lecture_concept_extraction"
description: "Extract teaching concepts from lecture transcripts with precise timestamps"

input_type: "transcript"
output_format: "csv"

evaluation_criteria:
  - "Concept count (target: 20-24 for 3-hour lecture)"
  - "Timestamp accuracy (within Â±5 seconds)"
  - "Duration compliance (2-7 minutes per segment)"
  - "Concept names are descriptive and clear"
  - "No overlapping time ranges"

constraints:
  min_duration_minutes: 2
  max_duration_minutes: 7
  target_duration_minutes: "3-6"
  required_csv_columns: ["concept", "start_time", "end_time"]
  timestamp_format: "HH:MM:SS"

examples:
  - input: |
      [00:20:06] Today we'll explore Python's data structures. Let's start with lists...
      [00:21:30] Lists are mutable sequences that can hold different types...
      [00:23:15] Now let's move on to dictionaries, which are key-value pairs...
    expected_output: "01_Python_Lists,00:20:06,00:23:15"
    quality_score: 95
    notes: "Perfect: 3.15 minute segment, descriptive name, clean timestamps"

  - input: |
      [01:15:00] Machine learning models require feature engineering...
      [01:16:45] Feature scaling is critical for many algorithms...
      [01:21:30] Let's discuss normalization versus standardization...
    expected_output: "15_Feature_Engineering_and_Scaling,01:15:00,01:21:30"
    quality_score: 92
    notes: "Good: 6.5 minute segment, covers related subtopics appropriately"

judge_instructions: |
  Evaluate the model's output against these specific criteria:

  1. ACCURACY (40 points):
     - Did it identify all major teaching concepts in the transcript?
     - Are concepts semantically distinct (not redundant)?
     - Are timestamps accurate to the actual content timing?
     - Give full points for identifying 90%+ of key concepts correctly

  2. FORMAT (30 points):
     - Is it valid CSV with the required columns: concept, start_time, end_time?
     - Are timestamps in HH:MM:SS format?
     - Do concept names follow the convention: NN_Descriptive_Name (e.g., 01_Introduction)?
     - Are there proper headers?
     - Give full points for perfect format compliance

  3. COMPLIANCE (30 points):
     - Are ALL segments between 2-7 minutes? (violations: -5 points each)
     - Are there NO overlapping timestamps?
     - Are concepts in chronological order?
     - For a 3-hour lecture, are there approximately 20-24 concepts?
     - Give full points if all constraints are met

  Count and list violations:
  - Under 2 minutes: VIOLATION (segment too short)
  - Over 7 minutes: VIOLATION (segment too long)
  - Overlapping timestamps: VIOLATION (time ranges overlap)
  - Invalid format: VIOLATION (CSV format issues)
  - Missing concepts: Note significant gaps in coverage

  Provide detailed reasoning that explains:
  - What the model did well
  - What specific violations occurred
  - How many concepts were correctly identified
  - Overall assessment of usability
